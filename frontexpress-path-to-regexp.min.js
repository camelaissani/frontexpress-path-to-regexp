var pathToRegexp=function(){"use strict";function e(e,t){for(var r,n=[],a=0,u=0,p="",c=t&&t.delimiter||"/";null!=(r=x.exec(e));){var f=r[0],l=r[1],s=r.index;if(p+=e.slice(u,s),u=s+f.length,l)p+=l[1];else{var m=e[u],g=r[2],h=r[3],y=r[4],d=r[5],v=r[6],b=r[7];p&&(n.push(p),p="");var w=null!=g&&null!=m&&m!==g,E="+"===v||"*"===v,R="?"===v||"*"===v,S=r[2]||c,$=y||d;n.push({name:h||a++,prefix:g||"",delimiter:S,optional:R,repeat:E,partial:w,asterisk:!!b,pattern:$?i($):b?".*":"[^"+o(S)+"]+?"})}}return u<e.length&&(p+=e.substr(u)),p&&n.push(p),n}function t(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function r(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function n(e){for(var n=new Array(e.length),o=0;o<e.length;o++)"object"===g(e[o])&&(n[o]=new RegExp("^(?:"+e[o].pattern+")$"));return function(o,i){for(var a="",u=o||{},p=(i||{}).pretty?t:encodeURIComponent,c=0;c<e.length;c++){var f=e[c];if("string"!=typeof f){var l,s=u[f.name];if(null==s){if(f.optional){f.partial&&(a+=f.prefix);continue}throw new TypeError('Expected "'+f.name+'" to be defined')}if(m(s)){if(!f.repeat)throw new TypeError('Expected "'+f.name+'" to not repeat, but received `'+JSON.stringify(s)+"`");if(0===s.length){if(f.optional)continue;throw new TypeError('Expected "'+f.name+'" to not be empty')}for(var g=0;g<s.length;g++){if(l=p(s[g]),!n[c].test(l))throw new TypeError('Expected all "'+f.name+'" to match "'+f.pattern+'", but received `'+JSON.stringify(l)+"`");a+=(0===g?f.prefix:f.delimiter)+l}}else{if(l=f.asterisk?r(s):p(s),!n[c].test(l))throw new TypeError('Expected "'+f.name+'" to match "'+f.pattern+'", but received "'+l+'"');a+=f.prefix+l}}else a+=f}return a}}function o(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function i(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function a(e,t){return e.keys=t,e}function u(e){return e.sensitive?"":"i"}function p(e,t){var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return a(e,t)}function c(e,t,r){for(var n=[],o=0;o<e.length;o++)n.push(s(e[o],t,r).source);return a(new RegExp("(?:"+n.join("|")+")",u(r)),t)}function f(t,r,n){return l(e(t,n),r,n)}function l(e,t,r){m(t)||(r=t||r,t=[]);for(var n=(r=r||{}).strict,i=!1!==r.end,p="",c=0;c<e.length;c++){var f=e[c];if("string"==typeof f)p+=o(f);else{var l=o(f.prefix),s="(?:"+f.pattern+")";t.push(f),f.repeat&&(s+="(?:"+l+s+")*"),p+=s=f.optional?f.partial?l+"("+s+")?":"(?:"+l+"("+s+"))?":l+"("+s+")"}}var g=o(r.delimiter||"/"),h=p.slice(-g.length)===g;return n||(p=(h?p.slice(0,-g.length):p)+"(?:"+g+"(?=$))?"),p+=i?"$":n&&h?"":"(?="+g+"|$)",a(new RegExp("^"+p,u(r)),t)}function s(e,t,r){return m(t)||(r=t||r,t=[]),r=r||{},e instanceof RegExp?p(e,t):m(e)?c(e,t,r):f(e,t,r)}var m=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=s,y=e,d=n,v=l,x=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");return h.parse=y,h.compile=function(t,r){return n(e(t,r))},h.tokensToFunction=d,h.tokensToRegExp=v,{name:"frontexpress-path-to-regexp",plugin:function(e){var t=function(e){var t=decodeURI(e);return!isNaN(parseFloat(t))&&isFinite(t)?Number.isInteger(t)?Number.parseInt(t,10):Number.parseFloat(t):t};e.set("route matcher",function(e,r){if(r.method&&r.method!==e.method)return!1;if(!r.uri||!e.uri)return!0;var n=/^(.*)\?.*#.*|(.*)(?=\?|#)|(.*[^\?#])$/.exec(e.uri),o=n[1]||n[2]||n[3],i=[],a=h(r.uri,i),u=o.match(a);return!!u&&(e.params=Object.assign(e.params,i.reduce(function(e,r,n){var o=u[n+1];return o&&(o=-1!==o.indexOf(",")?o.split(",").map(function(e){return t(e)}):o=t(o)),e[r.name]=o,e},{})),!0)})}}}();
//# sourceMappingURL=frontexpress-path-to-regexp.min.js.map
